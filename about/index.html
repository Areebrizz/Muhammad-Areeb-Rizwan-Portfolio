<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mechanical Engineer Portfolio - About Me</title>
    <script src="https://cdn.tailwindcss.com"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" xintegrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuMKMZ+o+cGYe7q0xK+fK0t2zDUD3bS41rW+3o2h/a/1Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet" />
    <script>
        // --- Merged Tailwind Configuration ---
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // Original Colors
                        'custom-gray': '#f5f5f5', // Used for section background
                        'accent-blue': '#1c7ed6',
                        // Header Colors
                        'custom-green': '#4caf50',
                        'dark-bg': '#111',
                        'text-light': '#e0e0e0',
                        'text-dark': '#374151', // Added for Mission/Vision text
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* Custom styles for text shadow (used on hover and active state) */
        .text-shadow-green {
            text-shadow: 0 0 5px rgba(76, 175, 80, 0.8);
        }
        
        .shadow-3xl-accent {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4), 
                        0 10px 20px -5px rgba(28, 126, 214, 0.3); /* Custom accent shadow */
        }

        /* --- Custom CSS for New Header/Footer Structure --- */

        /* Mobile Responsive Header Styles */
        @media (max-width: 640px) {
            .main-header {
                height: 110px; 
            }
            
            .nav-content {
                flex-direction: column;
                padding: 10px 15px 5px 15px;
                height: 100%; 
            }

            .nav-right-wrapper {
                flex-direction: column; 
                width: 100%;
                align-items: center;
                margin-top: 5px;
            }
            
            .logo {
                margin-bottom: 5px;
                font-size: 1.2rem;
            }
            
            .nav-links {
                display: flex;
                justify-content: center;
                width: 100%;
                margin-bottom: 5px;
            }
            
            .nav-links a {
                margin: 0 8px;
                font-size: 0.8rem;
                padding: 3px 0;
            }

            .social-icons {
                justify-content: center;
                width: 100%;
            }
        }

        /* Footer Bulge Styles */
        .footer-bulge {
            position: relative;
            background-color: #f3f4ff;
            box-shadow: inset 0px 1px 4px 0px rgba(0, 0, 0, 0.1);
        }

        /* Pseudo-element to create the curved edge (bulge/cutout) at the top center */
        .footer-bulge::before {
            content: '';
            position: absolute;
            top: -10px; 
            left: 50%;
            transform: translateX(-50%);
            width: 200px; 
            height: 50px; 
            /* IMPORTANT: This background color must match the main content's background color (bg-white: #ffffff or bg-custom-gray) */
            background-color: #ffffff; /* Adjusted to match the section above it */
            border-radius: 0 0 100px 100px; 
            box-shadow: 0 3px 5px rgba(0,0,0,0.05); 
            z-index: 10;
        }

        /* Arrow button positioning and hover effect */
        .top-button-container {
            position: absolute;
            width: 40px; 
            height: 40px; 
            left: 50%;
            top: -16px; 
            transform: translateX(-50%);
            cursor: pointer;
            transition: transform 0.3s ease, color 0.3s ease;
            z-index: 20;
        }

        .top-button-container:hover {
            transform: scale(1.1) translateX(-50%); 
        }

        /* --- MISSION/VISION Styles --- */

        /* Flip card container */
        .flip-card {
            background-color: transparent;
            width: 100%;
            max-width: 450px; 
            height: 200px; 
            perspective: 1000px; 
            margin: 1rem auto; 
        }

        /* Inner flip card */
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s, box-shadow 0.3s; /* Added box-shadow transition */
            transform-style: preserve-3d;
            
            /* UPDATED: Permanent Shadow with subtle custom-green glow */
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3), 
                        0 0 20px rgba(76, 175, 80, 0.2); /* Soft custom-green glow */
            border-radius: 12px;
            border: 1px solid theme('colors.accent-blue');
        }

        /* Flip card on hover - Applies the intense "Greenglare" */
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
            /* Intense custom-green glare on hover */
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4), 
                        0 0 40px rgba(76, 175, 80, 0.7); 
        }

        /* Front and back of the flip card */
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; 
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            border-radius: 12px;
            box-sizing: border-box;
            background-color: theme('colors.white');
            color: theme('colors.text-dark');
        }

        /* Back specific styles (Slightly different background) */
        .flip-card-back {
            transform: rotateY(180deg);
            background-color: theme('colors.custom-gray'); 
        }

        /* --- END MISSION/VISION Styles --- */
    </style>
</head>
<body id="top" class="bg-white font-sans text-gray-800">

    <header class="main-header fixed top-0 left-0 w-full h-[60px] bg-dark-bg shadow-lg shadow-black/50 z-50">
        <div class="nav-content max-w-[1600px] mx-auto flex justify-between items-center px-4 md:px-8 h-full">
            
            <div class="logo text-white select-none flex items-center">
                <!-- Using a placeholder for the logo -->
                <img 
                    src="https://placehold.co/32x32/4caf50/ffffff?text=AR" 
                    alt="Areeb Rizwan Logo" 
                    class="h-8 w-8 rounded-full shadow-lg"
                    onerror="this.onerror=null; this.src='https://placehold.co/32x32/1a1a1a/ffffff?text=AR';"
                >
            </div>
            
            <div class="nav-right-wrapper flex items-center space-x-16">
                
                <nav class="nav-links flex">
                    <a href="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/" id="home-link" class="link-item text-text-light no-underline ml-6 text-base font-medium transition-colors duration-300 hover:text-custom-green hover:text-shadow-green">Home</a>
                    <a href="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/index.html" id="about-link" class="link-item text-text-light no-underline ml-6 text-base font-medium transition-colors duration-300 hover:text-custom-green hover:text-shadow-green">About</a>
                    <a href="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/portfolio/index.html" id="portfolio-link" class="link-item text-text-light no-underline ml-6 text-base font-medium transition-colors duration-300 hover:text-custom-green hover:text-shadow-green">Portfolio</a>
                    <a href="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/blog/index.html" id="blog-link" class="link-item text-text-light no-underline ml-6 text-base font-medium transition-colors duration-300 hover:text-custom-green hover:text-shadow-green">Blog</a>
                    <a href="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/contact/index.html" id="contact-link" class="link-item text-text-light no-underline ml-6 text-base font-medium transition-colors duration-300 hover:text-custom-green hover:text-shadow-green">Contact</a>
                </nav>
                
                <div class="social-icons flex items-center space-x-4">
                    <a href="#" aria-label="LinkedIn" class="text-text-light transition-colors duration-300 hover:text-custom-green hover:text-shadow-green text-xl">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="#" aria-label="Instagram" class="text-text-light transition-colors duration-300 hover:text-custom-green hover:text-shadow-green text-xl">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" aria-label="GitHub" class="text-text-light transition-colors duration-300 hover:text-custom-green hover:text-shadow-green text-xl">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="#" aria-label="Twitter" class="text-text-light transition-colors duration-300 hover:text-custom-green hover:text-shadow-green text-xl">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div id="toast-container" class="fixed bottom-5 right-5 z-50 space-y-2">
    </div>

    <!-- About Section -->
    <section class="pt-[140px] pb-10 md:pt-[120px] md:pb-12 bg-custom-gray">
        <div class="container mx-auto px-4 md:px-8 max-w-7xl">
            <div class="bg-white p-6 md:p-12 rounded-3xl shadow-2xl">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    
                    <div class="md:w-5/12 mb-12 md:mb-0 md:pr-10">
                        <h1 class="text-6xl sm:text-7xl md:text-7xl font-extrabold mb-4 md:mb-6 leading-tight text-gray-900">
                            about.
                        </h1>
                        <p class="text-xl md:text-2xl text-accent-blue font-semibold mb-6">
                            I’m a Mechanical Engineer and Automation Specialist based in Pakistan.
                        </p>
                        <p class="text-lg md:text-xl text-gray-700 leading-relaxed">
                            I enjoy transforming mechanical precision into smart, efficient systems that shape the future of automation.
                            When I’m not engineering solutions, I’m exploring new technologies, working on personal innovations, or helping others bring their ideas to life.
                        </p>
                        
                        <div class="flex flex-col sm:flex-row gap-4 mt-8">
                            <a href="https://your-google-drive-link-here" 
                                target="_blank" 
                                rel="noopener noreferrer"
                                class="flex-1 text-center px-5 py-2.5 bg-accent-blue text-white font-medium rounded-lg shadow-lg hover:bg-gray-900 transition duration-300 transform hover:scale-[1.02] hover:shadow-xl">
                                My Resume
                            </a>

                            <a href="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/myjourney/index.html" 
                                class="flex-1 text-center px-5 py-2.5 bg-gray-900 text-white font-medium rounded-lg shadow-lg hover:bg-accent-blue transition duration-300 transform hover:scale-[1.02] hover:shadow-xl">
                                My Work
                            </a>
                        </div>
                    </div>
                    
                    <div class="md:w-7/12 flex justify-center md:justify-end relative group">
                        <img 
                            src="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/images/funky2.png" 
                            alt="Profile picture" 
                            class="w-full max-w-md rounded-lg shadow-2xl transition-all duration-500 
                                group-hover:rotate-3 group-hover:scale-105 group-hover:shadow-3xl-accent"
                            style="transform-style: preserve-3d; transform: perspective(1000px) rotateY(0deg) rotateX(0deg); 
                                    box-shadow: 0 20px 40px rgba(0,0,0,0.3); /* Initial 3D shadow */"
                            onmousemove="handleTilt(event, this)"
                            onmouseleave="resetTilt(this)"
                            onerror="this.onerror=null;this.src='https://placehold.co/600x400/94A3B8/ffffff?text=Profile+Photo';"
                        >
                    </div>
                </div>
            </div>      
        </div>
    </section>

    <!-- Mission / Vision Section -->
    <section class="bg-white pt-10 pb-10 md:pt-12 md:pb-12">
        <div class="relative w-full max-w-7xl mx-auto z-10 text-center px-4 md:px-8">
            <!-- ADDED: New title matching "Life Outside Engineering" style -->
            <h2 class="text-3xl font-bold mb-8 text-center text-gray-900">What Drives Me</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                
                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <!-- UPDATED: Text changed to "My Mission" -->
                            <h2 class="text-3xl font-bold text-accent-blue">My Mission</h2>
                        </div>
                        <div class="flip-card-back">
                            <!-- UPDATED: Mission statement text -->
                            <p class="text-md md:text-lg leading-relaxed text-text-dark/90">
                                Engineering smarter systems and meaningful change, where innovation meets purpose.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <!-- UPDATED: Text changed to "My Vision" -->
                            <h2 class="text-3xl font-bold text-accent-blue">My Vision</h2>
                        </div>
                        <div class="flip-card-back">
                            <!-- UPDATED: Vision statement text -->
                            <p class="text-md md:text-lg leading-relaxed text-text-dark/90">
                                To build a world where technology uplifts people, connects possibilities, and inspires generations to dream bigger.
                            </p>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>
    
    <!-- Life Outside Engineering Section -->
    <section class="pt-10 pb-16 md:pt-12 md:pb-20 bg-white border-t border-gray-100">
        <div class="container mx-auto px-4 max-w-7xl">
               <h2 class="text-3xl font-bold mb-8 text-center md:text-left">Life Outside Engineering</h2>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 md:gap-6">
                
                <!-- Gallery Items are now interactive to open the Lightbox -->
                <a href="httpsia://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/myjourney/index.html" data-caption="New Technologies" class="gallery-item block bg-white rounded-xl p-2 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:ring-2 hover:ring-accent-blue/50 cursor-pointer" tabindex="0">
                    <img src="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/images/kid1crop1.jpg" alt="New Technologies" class="w-full h-auto rounded-lg object-cover aspect-[4/3]" onerror="this.onerror=null;this.src='https:://placehold.co/200x150/C4B5FD/ffffff?text=New+Tech';" >
                </a>
                
                <a href="httpsia://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/myjourney/index.html" data-caption="Innovation Project" class="gallery-item block bg-white rounded-xl p-2 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:ring-2 hover:ring-accent-blue/50 cursor-pointer" tabindex="0">
                    <img src="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/images/flagfix1.png" alt="Innovation Project" class="w-full h-auto rounded-lg object-cover aspect-[4/3]" onerror="this.onerror=null;this.src='https:://placehold.co/200x150/FCA5A5/ffffff?text=Project+Work';">
                </a>
                
                <a href="httpsia://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/myjourney/index.html" data-caption="Formal Event" class="gallery-item block bg-white rounded-xl p-2 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:ring-2 hover:ring-accent-blue/50 cursor-pointer" tabindex="0">
                    <img src="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/images/podium.jpg" alt="Formal Event" class="w-full h-auto rounded-lg object-cover aspect-[4/3]" onerror="this.onerror=null;this.src='https:://placehold.co/200x150/7DD3FC/ffffff?text=Formal+Event';">
                </a>
                
                <a href="httpsia://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/myjourney/index.html" data-caption="Exploring Backgrounds" class="gallery-item block bg-white rounded-xl p-2 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:ring-2 hover:ring-accent-blue/50 cursor-pointer" tabindex="0">
                    <img src="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/images/startupaccelerator1.jpg" alt="Exploring Backgrounds" class="w-full h-auto rounded-lg object-cover aspect-[4/3]" onerror="this.onerror=null;this.src='https:://placehold.co/200x150/F0ABFC/ffffff?text=Background+Exp';">
                </a>
                
                <a href="httpsia://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/myjourney/index.html" data-caption="Personal Innovations" class="gallery-item block bg-white rounded-xl p-2 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:ring-2 hover:ring-accent-blue/50 cursor-pointer" tabindex="0">
                    <img src="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/images/naraan.jpg" alt="Personal Innovations" class="w-full h-auto rounded-lg object-cover aspect-[4/3]" onerror="this.onerror=null;this.src='https:://placehold.co/200x150/A7F3D0/ffffff?text=Innovations';">
                </a>
                
                <a href="httpsIA://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/myjourney/index.html" data-caption="Creative Moment" class="gallery-item block bg-white rounded-xl p-2 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 hover:ring-2 hover:ring-accent-blue/50 cursor-pointer" tabindex="0">
                    <img src="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/images/gym1fix3.png" alt="Creative Moment" class="w-full h-auto rounded-lg object-cover aspect-[4/3]" onerror="this.onerror=null;this.src='https:://placehold.co/200x150/FDBA74/ffffff?text=Creative+Time';">
                </a>
            </div>
        </div>
    </section>

    <!-- Lightbox/Modal Structure -->
    <div id="lightbox-modal" class="hidden fixed inset-0 bg-black bg-opacity-80 z-[60] flex justify-center items-center p-4" aria-modal="true" role="dialog" tabindex="-1">
        <div class="bg-white rounded-xl max-w-4xl w-full p-4 md:p-6 shadow-3xl-accent relative">
            <!-- Close Button -->
            <button id="lightbox-close" class="absolute top-3 right-3 text-gray-700 hover:text-red-500 text-4xl font-light leading-none transition duration-300" aria-label="Close image viewer">
                &times;
            </button>

            <div class="flex flex-col md:flex-row gap-4">
                <!-- Image Area -->
                <div class="md:w-3/4 flex justify-center items-center">
                    <img id="lightbox-image" src="" alt="" class="max-h-[80vh] w-full object-contain rounded-lg shadow-xl">
                </div>

                <!-- Content Area -->
                <div class="md:w-1/4 flex flex-col justify-between p-2">
                    <div>
                        <h3 id="lightbox-caption" class="text-xl font-bold text-gray-900 mb-2 mt-4 md:mt-0"></h3>
                        <p class="text-sm text-gray-500 mb-4">Click "View Journey" to see related projects and details for this photo.</p>
                    </div>
                    
                    <a id="lightbox-link" href="#" target="_blank" class="w-full text-center mt-4 px-4 py-2 bg-accent-blue text-white font-medium rounded-lg shadow-md hover:bg-gray-900 transition duration-300 transform hover:scale-[1.03]">
                        <i class="fas fa-route mr-2"></i> View Journey
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- End Lightbox/Modal Structure -->

    <footer id="footer" role="contentinfo" class="footer-bulge text-gray-600 text-base pt-10 pb-6 relative mt-16">
        <div class="max-w-screen-xl mx-auto px-5">
            
            <a href="#top" class="top-button-container flex items-center justify-center" aria-label="Back to top">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#757575" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="hover:stroke-custom-green transition duration-300">
                    <polyline points="18 15 12 9 6 15"></polyline>
                </svg>
            </a>
            
            <div class="flex flex-col lg:flex-row items-center justify-between">
                
                <div class="order-2 lg:order-1 text-center lg:text-left mt-4 lg:mt-0">
                    <a href="https://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/" class="hover:text-custom-green transition duration-300">
                        © 2025 Muhammad Areeb Rizwan Siddiqui
                    </a>
                </div>
                
                <nav id="nav-footer" class="order-1 lg:order-2">
                    <ul class="flex flex-wrap justify-center space-x-3 sm:space-x-5 text-sm sm:text-base">
                        <li><a href="httpsIA://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/" class="hover:text-custom-green transition duration-300 rounded-sm">Home</a></li>
                        <li><a href="httpsIA://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/about/index.html" class="hover:text-custom-green transition duration-300 rounded-sm">About</a></li>
                        <li><a href="httpsIA://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/portfolio/index.html" class="hover:text-custom-green transition duration-300 rounded-sm">Portfolio</a></li>
                        <li><a href="httpsIA://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/blog/index.html" class="hover:text-custom-green transition duration-300 rounded-sm">Blog</a></li>
                        <li><a href="httpsIA://areebrizz.github.io/Muhammad-Areeb-Rizwan-Portfolio/contact/index.html" class="hover:text-custom-green transition duration-300 rounded-sm">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </footer>
    
    <script>
        // Custom Toast Notification implementation (Replaces alert())
        function showToast(message) {
            const container = document.getElementById('toast-container');
            if (!container) return;

            // Create the toast element
            const toast = document.createElement('div');
            toast.className = 'bg-gray-900 text-white px-4 py-3 rounded-xl shadow-xl transition-opacity duration-300 opacity-0 transform translate-y-2 max-w-xs';
            toast.innerHTML = `<p class="font-medium text-sm">${message}</p>`;

            // Append and show
            container.appendChild(toast);
            
            // Trigger transition (must be in the next frame)
            setTimeout(() => {
                toast.classList.remove('opacity-0', 'translate-y-2');
                toast.classList.add('opacity-100', 'translate-y-0');
            }, 10);

            // Auto-hide after 3 seconds
            setTimeout(() => {
                toast.classList.remove('opacity-100', 'translate-y-0');
                toast.classList.add('opacity-0', 'translate-y-2');

                // Remove from DOM after transition completes
                toast.addEventListener('transitionend', () => toast.remove());
            }, 3000);
        }

        // Refined 3D Tilt Effect for Profile Photo (relative to element)
        function handleTilt(event, element) {
            const rect = element.getBoundingClientRect();
            
            // Calculate mouse position relative to the element's top-left corner
            const offsetX = event.clientX - rect.left;
            const offsetY = event.clientY - rect.top;

            // Normalize coordinates to be between -0.5 and 0.5 (center is 0,0)
            const normalizeX = (offsetX / rect.width) - 0.5;
            const normalizeY = (offsetY / rect.height) - 0.5;

            // Sensitivity factor (max tilt in degrees)
            const sensitivity = 15;

            // Invert Y-axis tilt for natural perspective (moving right tilts left)
            const rotateY = normalizeX * sensitivity * -1; 
            // Invert X-axis tilt for natural perspective (moving down tilts top edge away)
            const rotateX = normalizeY * sensitivity; 

            // Apply transformations
            element.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
            
            // Adjust box shadow position for 3D depth effect
            element.style.boxShadow = `
                ${rotateY * 1.5}px ${-rotateX * 1.5}px 30px rgba(0, 0, 0, 0.4),
                ${rotateY * 0.75}px ${-rotateX * 0.75}px 60px rgba(28, 126, 214, 0.2)
            `;
        }

        function resetTilt(element) {
            element.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)';
            element.style.boxShadow = '0 20px 40px rgba(0,0,0,0.3)'; // Reset to initial shadow
        }

        // --- Navigation State Logic ---
        const navLinks = document.querySelectorAll('.nav-links .link-item');

        function setState(activeId) {
            // 1. Reset all link active states
            navLinks.forEach(link => {
                link.classList.remove('active-link', 'text-custom-green', 'text-shadow-green');
                link.classList.add('text-text-light');
            });

            // 2. Set the new active link by matching the ID
            const activeLink = document.getElementById(activeId);
            if (activeLink) {
                activeLink.classList.add('active-link', 'text-custom-green', 'text-shadow-green');
                activeLink.classList.remove('text-text-light');
            }
        }
        // --- End Navigation State Logic ---
        
        // --- Lightbox Logic (New Feature) ---
        const modal = document.getElementById('lightbox-modal');
        const modalImage = document.getElementById('lightbox-image');
        const modalCaption = document.getElementById('lightbox-caption');
        const modalLink = document.getElementById('lightbox-link');
        const modalCloseButton = document.getElementById('lightbox-close');

        function openLightbox(imageUrl, caption, linkUrl) {
            modalImage.src = imageUrl;
            modalImage.alt = caption;
            modalCaption.textContent = caption;
            modalLink.href = linkUrl;
            modal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden'); // Prevent background scrolling
            modalCloseButton.focus(); // Focus on close button for accessibility
        }

        function closeLightbox() {
            modal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
            // Re-focus on the element that triggered the modal for better accessibility (omitted for brevity)
        }

        modalCloseButton.addEventListener('click', closeLightbox);
        
        // Close when clicking outside the inner modal content
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeLightbox(); 
            }
        });

        // Close on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeLightbox();
            }
        });
        // --- End Lightbox Logic ---


        document.addEventListener('DOMContentLoaded', function() {
            // Set 'About' active on page load, as this is the About page.
            setState('about-link'); 
            
            // Add click listeners for graceful navigation and state setting to main nav links
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault(); // Stop default navigation immediately

                    const targetUrl = this.href;
                    const targetId = this.id;

                    // Set visual state instantly
                    setState(targetId); 

                    // Show toast message
                    showToast(`Navigating to ${this.textContent.trim()}...`);

                    // Perform actual navigation after a small delay for visual feedback
                    setTimeout(() => {
                        window.location.href = targetUrl;
                    }, 300);
                });
            });

            const carouselItems = document.querySelectorAll('.gallery-item');
            
            // Update gallery item click to open lightbox instead of immediate navigation
            carouselItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault(); // STOP default navigation
                    
                    const imageUrl = this.querySelector('img').src;
                    const caption = this.getAttribute('data-caption');
                    const linkUrl = this.href;
                    
                    openLightbox(imageUrl, caption, linkUrl);
                });
                
                // Add keyboard handler for 'Enter' key to open modal
                item.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        const imageUrl = this.querySelector('img').src;
                        const caption = this.getAttribute('data-caption');
                        const linkUrl = this.href;
                        openLightbox(imageUrl, caption, linkUrl);
                    }
                });
            });
        });
    </script>
</body>
</html>
